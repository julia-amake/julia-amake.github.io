"use strict";(self.webpackChunk=self.webpackChunk||[]).push([[446],{"./widgets/product/ProductsInfinityList/ui/ProductsInfinityList/ProductsInfinityList.stories.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:function(){return Default},__namedExportsOrder:function(){return __namedExportsOrder},default:function(){return ProductsInfinityList_stories}});var react=__webpack_require__("../node_modules/react/index.js"),ProductsList=__webpack_require__("./entities/Product/ui/ProductsList/index.ts"),hooks=__webpack_require__("./shared/lib/hooks/index.ts"),Button=__webpack_require__("./shared/ui/Button/index.ts"),useProductsList=__webpack_require__("./widgets/product/ProductsInfinityList/lib/hooks/useProductsList.tsx"),ProductsInfinityList_module=__webpack_require__("./widgets/product/ProductsInfinityList/styles/ProductsInfinityList.module.scss"),jsx_runtime=__webpack_require__("../node_modules/react/jsx-runtime.js");const ProductsInfinityList=(0,react.memo)((_ref=>{let{className:className}=_ref;const{products:products,isLoading:isLoading,loadMoreProducts:loadMoreProducts}=(0,useProductsList.g)(),triggerRef=(0,react.useRef)(null),wrapperRef=(0,react.useRef)(null);return(0,hooks.XD)({triggerRef:triggerRef,wrapperRef:wrapperRef,action:loadMoreProducts}),(0,jsx_runtime.jsxs)("div",{className:className,ref:wrapperRef,children:[(0,jsx_runtime.jsx)(ProductsList.j,{className:ProductsInfinityList_module.A.list,products:products,isLoading:isLoading}),(0,jsx_runtime.jsx)(Button.$,{className:ProductsInfinityList_module.A.button,label:"Показать еще",variant:"secondary",size:"m",disabled:isLoading,ref:triggerRef,onClick:loadMoreProducts})]})}));ProductsInfinityList.displayName="ProductsInfinityList";try{ProductsInfinityList.displayName="ProductsInfinityList",ProductsInfinityList.__docgenInfo={description:"",displayName:"ProductsInfinityList",props:{className:{defaultValue:null,description:"",name:"className",required:!1,type:{name:"string"}}}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/widgets/product/ProductsInfinityList/ui/ProductsInfinityList/ProductsInfinityList.tsx#ProductsInfinityList"]={docgenInfo:ProductsInfinityList.__docgenInfo,name:"ProductsInfinityList",path:"src/widgets/product/ProductsInfinityList/ui/ProductsInfinityList/ProductsInfinityList.tsx#ProductsInfinityList"})}catch(__react_docgen_typescript_loader_error){}var ProductsInfinityList_stories={title:"widgets/ProductsInfinityList/Observer",component:ProductsInfinityList,args:{}};const Default={};Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}};const __namedExportsOrder=["Default"]},"./entities/Product/ui/ProductsList/index.ts":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{j:function(){return _ProductsList__WEBPACK_IMPORTED_MODULE_0__.j}});var _ProductsList__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("./entities/Product/ui/ProductsList/ProductsList.tsx")},"./widgets/product/ProductsInfinityList/lib/hooks/useProductsList.tsx":function(__unused_webpack_module,__webpack_exports__,__webpack_require__){__webpack_require__.d(__webpack_exports__,{g:function(){return useProductsList}});var react__WEBPACK_IMPORTED_MODULE_0__=__webpack_require__("../node_modules/react/index.js"),src_entities_Product_mocks_productsMocks__WEBPACK_IMPORTED_MODULE_1__=__webpack_require__("./entities/Product/mocks/productsMocks.tsx");const useProductsList=function(){let count=arguments.length>0&&void 0!==arguments[0]?arguments[0]:12;const[products,setProducts]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)((()=>(0,src_entities_Product_mocks_productsMocks__WEBPACK_IMPORTED_MODULE_1__.d)(count))),[isLoading,setIsLoading]=(0,react__WEBPACK_IMPORTED_MODULE_0__.useState)(!1),loadMoreProducts=(0,react__WEBPACK_IMPORTED_MODULE_0__.useCallback)((()=>{isLoading||(setIsLoading(!0),setTimeout((()=>{setProducts((products=>[...products,...(0,src_entities_Product_mocks_productsMocks__WEBPACK_IMPORTED_MODULE_1__.d)(count)])),setIsLoading(!1)}),1e3))}),[count,isLoading]);return(0,react__WEBPACK_IMPORTED_MODULE_0__.useMemo)((()=>({products:products,isLoading:isLoading,loadMoreProducts:loadMoreProducts})),[isLoading,loadMoreProducts,products])};try{useProductsList.displayName="useProductsList",useProductsList.__docgenInfo={description:"",displayName:"useProductsList",props:{}},"undefined"!=typeof STORYBOOK_REACT_CLASSES&&(STORYBOOK_REACT_CLASSES["src/widgets/product/ProductsInfinityList/lib/hooks/useProductsList.tsx#useProductsList"]={docgenInfo:useProductsList.__docgenInfo,name:"useProductsList",path:"src/widgets/product/ProductsInfinityList/lib/hooks/useProductsList.tsx#useProductsList"})}catch(__react_docgen_typescript_loader_error){}},"./widgets/product/ProductsInfinityList/styles/ProductsInfinityList.module.scss":function(__unused_webpack_module,__webpack_exports__){__webpack_exports__.A={light:"iXotrOwq",dark:"e0cmOTDE",list:"RE5o0_dP",button:"nYg7rG6a"}}}]);